{"version":3,"sources":["utils/Net.js","Elements/DropDown.js","Home.js","Elements/SearchElements/Efficiency.js","Elements/SearchElements/Result.js","Elements/Back.js","Search.js","Loading.js","App.js","index.js"],"names":["Net","debug","attachORSC","xhr","callback","mode","onreadystatechange","this","readyState","data","getObj","response","console","log","status","JSON","stringify","parse","post","jsonStr","route","x","XMLHttpRequest","open","setRequestHeader","send","get","DropDown","items","map","e","getItem","item","value","props","name","id","itemList","getList","Component","Home","state","budget","product","volume","products","search","bind","app","App","nameVal","document","getElementById","budgetVal","productVal","volumeVal","isNaN","Number","setState","alert","className","htmlFor","type","required","minLength","min","onClick","vol","Efficiency","usage","mostEff","href","Result","energy_usage","modelNumber","most_efficient","regularPrice","url","target","rel","Back","goToHome","src","alt","Search","Loading","Page","userData","updateHomeForm","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.79470257.chunk.js","sourcesContent":["const Net = (() => {\n  const debug = false;\n  const post = (jsonStr, route, callback = x => {}) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", route);\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    attachORSC(xhr, debug, callback, \"get\");\n    xhr.send(jsonStr);\n  };\n  const get = (route, callback = x => {}) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", route);\n    attachORSC(xhr, debug, callback, \"get\");\n    xhr.send();\n  };\n  const attachORSC = (xhr, debug, callback, mode) => {\n    if (debug) {\n      xhr.onreadystatechange = function () {\n        if (this.readyState === 4) {\n          let data = getObj(xhr.response);\n          console.log(`status: ${this.status};\n            ${mode} response: ${JSON.stringify(data)}`);\n          callback(data);\n        }\n      };\n    } else {\n      xhr.onreadystatechange = function () {\n        if (this.readyState === 4) {\n          callback(getObj(xhr.response));\n        }\n      };\n    }\n  }\n  const getObj = (response) => {\n    if (typeof response == 'string') {\n      return JSON.parse(response);\n    } else {\n      return response;\n    }\n  }\n  return {\n    post,\n    get,\n  };\n})();\n\nexport default Net;","import React, { Component } from 'react';\n\nclass DropDown extends Component {\n\tgetList(items) {\n\t\treturn items.map(e => this.getItem(e));\n\t}\n\n\tgetItem(item) {\n\t\treturn (<option value={item} key={item}>{item}</option>);\n\t}\n\n\trender() {\n\t\tconst { name, id, itemList } = this.props;\n\t\treturn (\n\t\t\t<select name={name} id={id}>{this.getList(itemList)}</select>\n\t\t);\n\t}\n}\n\nexport default DropDown;\n","import React, { Component } from 'react';\nimport DropDown from './Elements/DropDown.js';\n\nclass Home extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tname: \"\",\n\t\t\tbudget: \"\",\n\t\t\tproduct: \"\",\n\t\t\tvolume: \"\"\n\t\t};\n\n\t\tthis.products = [\"fridge\"];\n\n\t\tthis.search = this.search.bind(this);\n\t\tthis.app = this.props.App;\n\t}\n\n\tisNewUser() {\n\t\treturn true;\n\t}\n\n\tsearch() {\n\t\tconst nameVal = document.getElementById(\"name\").value;\n\t\tconst budgetVal = document.getElementById(\"budget\").value;\n\t\tconst productVal = document.getElementById(\"product\").value;\n\t\tlet volumeVal = document.getElementById(\"volume\").value;\n    if (nameVal && !isNaN(budgetVal) && Number(budgetVal) > 0 && productVal \n    \t&& (!volumeVal || (volumeVal && !isNaN(volumeVal) \n    \t&& Number(volumeVal) > 0))) {\n    \tif (volumeVal) {\n    \t\tvolumeVal = Number(volumeVal);\n    \t} else {\n    \t\tvolumeVal = -1;\n    \t}\n    \tconst data = {\n    \t\tname: nameVal,\n    \t\tbudget: Number(budgetVal),\n    \t\tproduct: productVal,\n    \t\tvolume: volumeVal\n    \t}\n    \tthis.setState(data);\n      this.app.search(data);\n    } else {\n      alert(\"You need to enter something in the first three fields (and have \" +\n      \t\"a positive number for the budget, and also for the volume if you \" + \n      \t\"have entered a value for it)\");\n    }\n\t}\n\n\tstatic updateHomeForm(data) {\n\t\tconst { name, budget, product, volume } = data;\n\t\tdocument.getElementById(\"name\").value = name;\n\t\tdocument.getElementById(\"budget\").value = budget;\n\t\tdocument.getElementById(\"product\").value = product;\n\t\tlet vol = volume;\n\t\tif (volume < 0) {\n\t\t\tvol = \"\";\n\t\t}\n\t\tdocument.getElementById(\"volume\").value = vol;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"home modal flex-col card\">\n\t\t\t\t<h1 id=\"welcome\">Search Efficient Products</h1>\n\t\t\t\t<label htmlFor=\"name\">Name</label>\n\t\t\t\t<input type=\"text\" id=\"name\" name=\"name\" required minLength=\"2\" />\n\t\t\t\t<label htmlFor=\"budget\">Budget</label>\n\t\t\t\t<input type=\"number\" id=\"budget\" name=\"budget\" required min=\"0\" />\n\t\t\t\t<label htmlFor=\"product_type\">product type</label>\n\t\t\t\t<DropDown name=\"product_type\" id=\"product\" itemList={this.products} />\n\t\t\t\t<label htmlFor=\"budget\">Volume Threshold in ft<sup>3</sup> (optional)\n\t\t\t\t</label>\n\t\t\t\t<input id=\"volume\" name=\"volume\" min=\"1\" />\n\t\t\t\t<button id=\"submit\" onClick={this.search}>Search</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Home;\n","import React, { Component } from 'react';\n\nclass Efficiency extends Component {\n\t/* todo: color rating based on efficiency score */\n\trender() {\n\t\tconst { usage, mostEff } = this.props;\n\t\treturn (\n\t\t\t<div className=\"product-eff flex-row\">\n\t\t\t\t<div className=\"energy-info dark card\">Energy Usage: {usage} kWh/y</div>\n\t\t\t\t<div className=\"energy-info card\">\n\t\t\t\t\t<a href=\"https://www.energystar.gov/products/most_efficient\">\n\t\t\t\t\tMost Efficient (Energy Star)</a>: {mostEff}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Efficiency;","import React, { Component } from 'react';\nimport Efficiency from './Efficiency.js';\n\nclass Result extends Component {\n\trender() {\n\t\tconst {\n\t\t\tenergy_usage,\n\t\t\tmodelNumber,\n\t\t\tmost_efficient,\n\t\t\tname,\n\t\t\tregularPrice,\n\t\t\turl // a link where the product can be purchased\n\t\t} = this.props.item;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"result modal flex-col-left card\">\n\t\t\t\t\t<h2>{name}</h2>\n\t\t\t\t\t<h3>model: {modelNumber}</h3>\n\t\t\t\t\t<br /><br />\n\t\t\t\t\t<p className=\"product-price\">${regularPrice}</p>\n\t\t\t\t\t<p className=\"product-link\">{'Link to product: '}\n\t\t\t\t\t\t<a href={url} target=\"_blank\" rel=\"noreferrer\">{url}</a>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<Efficiency usage={energy_usage} mostEff={most_efficient}>\n\t\t\t\t</Efficiency>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Result;\n","import React, { Component } from 'react';\n\nclass Back extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.app = this.props.app;\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"back card\" onClick={this.app.goToHome}>\n\t\t\t\t<img src={\"https://upload.wikimedia.org/wikipedia/commons/\" + \n\t\t\t\t\t\"thumb/4/4c/Ic_arrow_back_48px.svg/1024px-Ic_arrow_back\" + \n\t\t\t\t\t\"_48px.svg.png\"} alt=\"go back\"></img>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Back;","import React, { Component } from 'react';\nimport Result from './Elements/SearchElements/Result.js';\nimport Back from './Elements/Back.js';\n\nclass Search extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.app = this.props.App;\n\t}\n\trender() {\n\t\tconst { product } = this.app.state;\n\t\tif (product) {\n\t\t\treturn (\n\t\t\t<div className=\"search flex-col\">\n\t\t\t\t<Back app={this.app}></Back>\n\t\t\t\t<h1>Our Recommendation</h1>\n\t\t\t\t<div>\n\t\t\t\t\t<Result item={product} key={product}></Result>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Back app={this.app}></Back>\n\t\t\t\t\t<div className=\"search modal card\">\n\t\t\t\t\t\t<p>Unfortunately, we couldn't find the best product</p>\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default Search;\n","import React, { Component } from 'react';\n\nclass Loading extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"loading flex-col\">\n\t\t\t\t<p>Finding the Best Product...</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Loading;","import React, { Component } from 'react';\nimport Net from './utils/Net.js';\nimport Home from './Home.js';\nimport Search from './Search.js';\nimport Loading from './Loading.js';\nimport './style.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      Page: Home,\n      product: null,\n      userData: {\n        name: \"\",\n        budget: \"\",\n        product: \"\",\n        volume: \"\"\n      }\n    }\n    this.search = this.search.bind(this);\n    this.goToHome = this.goToHome.bind(this);\n  }\n\n  debug() {\n    return false;\n  }\n\n  search(data) {\n    if (this.debug()) {\n      this.setState({\n        Page: Search,\n        product: {\n          energy_usage: 100,\n          modelNumber: '123Test',\n          most_efficient: 'No',\n          name: 'Test Product',\n          regularPrice: '100',\n          url: './this_is_a_fake_link.com'\n        },\n        userData: data\n      });\n      return;\n    }\n    Net.post(JSON.stringify(data), '/api/visitors', (response) => {\n      this.setState({\n        Page: Search,\n        product: response\n      });\n    });\n    this.setState({\n      Page: Loading,\n      userData: data\n    });\n  }\n\n  goToHome() {\n    this.setState({\n      Page: Home,\n      product: null\n    }, () => {\n      Home.updateHomeForm(this.state.userData);\n    });\n  }\n\n  render() {\n    const { Page } = this.state;\n    return (\n        <Page App={this}></Page>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}